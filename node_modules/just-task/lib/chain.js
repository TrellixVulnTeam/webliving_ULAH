"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const undertaker_1 = require("./undertaker");
let counter = 0;
function chain(subjectTaskName) {
    return {
        before: function runBefore(taskName) {
            const id = `${taskName}_before_${counter++}?`;
            const subject = undertaker_1.undertaker.task(subjectTaskName);
            undertaker_1.undertaker.task(id, undertaker_1.undertaker.task(taskName));
            undertaker_1.undertaker.task(taskName, undertaker_1.series(subject, id));
        },
        after: function runAfter(taskName) {
            const id = `${taskName}_after_${counter++}?`;
            const subject = undertaker_1.undertaker.task(subjectTaskName);
            undertaker_1.undertaker.task(id, undertaker_1.undertaker.task(taskName));
            undertaker_1.undertaker.task(taskName, undertaker_1.series(id, subject));
        }
    };
}
exports.chain = chain;
