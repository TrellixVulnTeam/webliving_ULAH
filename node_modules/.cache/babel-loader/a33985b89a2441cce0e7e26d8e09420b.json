{"remainingRequest":"C:\\Users\\10980\\Desktop\\pro\\mxwebapp\\mxwebapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\10980\\Desktop\\pro\\mxwebapp\\mxwebapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\10980\\Desktop\\pro\\mxwebapp\\mxwebapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\10980\\Desktop\\pro\\mxwebapp\\mxwebapp\\src\\components\\login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\10980\\Desktop\\pro\\mxwebapp\\mxwebapp\\src\\components\\login\\Login.vue","mtime":1641629154474},{"path":"C:\\Users\\10980\\Desktop\\pro\\mxwebapp\\mxwebapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\10980\\Desktop\\pro\\mxwebapp\\mxwebapp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\10980\\Desktop\\pro\\mxwebapp\\mxwebapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\10980\\Desktop\\pro\\mxwebapp\\mxwebapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbmV0d29ya3JlcXVlc3QgfSBmcm9tICIuLi8uLi9uZXR3b3JrL25ldHdvcmtyZXF1ZXN0IjsKaW1wb3J0IGFwaU5hbWUgZnJvbSAiLi4vLi4vbmV0d29yay9hcGl1cmwiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOyAvLyBpbXBvcnQgc3RvcmUgZnJvbSAiLi4vLi4vc3RvcmUiCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBwcm9wczogey8vbG9naW5WaXNpYmxlOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gbG9naW5WaXNpYmxlOiBmYWxzZSwKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwd2Q6ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNsb3NlOiBmdW5jdGlvbiBoYW5kbGVDbG9zZShkb25lKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2ludmlzYWJsZSA9IGZhbHNlOwogICAgICBkb25lKCk7CiAgICB9LAogICAgY2FuY2VsTG9naW46IGZ1bmN0aW9uIGNhbmNlbExvZ2luKCkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sb2dpbnZpc2FibGUgPSBmYWxzZTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucmVndmlzYWJsZSA9IHRydWU7IC8vIHRoaXMuJGVtaXQoJ2Nsb3NlTG9naW4nKTsKICAgIH0sCiAgICBzdXJlTG9naW46IGZ1bmN0aW9uIHN1cmVMb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnVzZXJuYW1lLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucHdkLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pOwogICAgICB9CgogICAgICBuZXR3b3JrcmVxdWVzdCh7CiAgICAgICAgdXJsOiBhcGlOYW1lLnRva2VuX2FwaSwKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnB3ZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEudG9rZW4pOwogICAgICAgIHZhciB1c2VydG9rZW4gPSByZXMuZGF0YS50b2tlbjsKCiAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TG9naW5TdGF0dXMnLCB0cnVlKTsKCiAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc3RvcmVVc2VydG9rZW4nLCB1c2VydG9rZW4pOwoKICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRsb2dpbnZpc2FibGUnLCBmYWxzZSk7IC8vIHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2ludmlzYWJsZSA9IGZhbHNlCgoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJ3VzZXJwcm9maWxlJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,cAAA,QAAA,8BAAA;AACA,OAAA,OAAA,MAAA,sBAAA;AACA,OAAA,KAAA,MAAA,OAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,KAAA,EAAA,CACA;AADA,GAFA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA;AACA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA;AAHA,KAAA;AAKA,GAXA;AAYA,EAAA,OAAA,EAAA,mBAAA,CAEA,CAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,EAAA,qBAAA,IAAA,EAAA;AACA,WAAA,MAAA,CAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,MAAA,IAAA;AACA,KAJA;AAKA,IAAA,WAAA,EAAA,uBAAA;AACA,WAAA,MAAA,CAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,WAAA,MAAA,CAAA,KAAA,CAAA,UAAA,GAAA,IAAA,CAFA,CAGA;AACA,KATA;AAUA,IAAA,SAAA,EAAA,qBAAA;AAAA;;AAEA,UAAA,KAAA,QAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,QADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA;AACA;;AACA,UAAA,KAAA,GAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,OADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA;;AAEA,MAAA,cAAA,CAAA;AACA,QAAA,GAAA,EAAA,OAAA,CAAA,SADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,QAAA,EAAA,KAAA,QADA;AAEA,UAAA,QAAA,EAAA,KAAA;AAFA;AAHA,OAAA,CAAA,CAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,YAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,IAAA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,SAAA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,iBAAA,EAAA,KAAA,EALA,CAMA;;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA;AACA,OAfA,EAeA,KAfA,CAeA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,OAjBA;AAkBA;AA5CA;AAfA,CAAA","sourcesContent":["<template>\r\n    <el-dialog title=\"登录\"  :visible.sync=\"$store.state.loginvisable\" width=\"30%\"  :before-close=\"handleClose\">\r\n        <el-row>\r\n            <el-col :span=\"20\" :offset=\"2\">\r\n                <el-input autofocus = true placeholder=\"请输入用户名\" v-model=\"username\" clearable></el-input>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row style=\"margin-top: 10px\">\r\n            <el-col :span=\"20\" :offset=\"2\">\r\n                <el-input placeholder=\"请输入密码\" v-model=\"pwd\" show-password></el-input>\r\n            </el-col>\r\n        </el-row>\r\n\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click = cancelLogin>注 册</el-button>\r\n            <el-button type=\"primary\" @click= sureLogin>登 录</el-button>\r\n         </span>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n    import {networkrequest} from \"../../network/networkrequest\"\r\n    import apiName from \"../../network/apiurl\"\r\n    import axios from 'axios';\r\n    // import store from \"../../store\"\r\n\r\n    export default {\r\n        name: \"Login\",\r\n        props:{\r\n            //loginVisible: Boolean\r\n        },\r\n        data: function() {\r\n            return {\r\n                // loginVisible: false,\r\n                username: '',\r\n                pwd: ''\r\n            };\r\n        },\r\n        created : function() {\r\n\r\n        },\r\n        methods: {\r\n            handleClose: function(done) {\r\n                this.$store.state.loginvisable = false;\r\n                done();\r\n            },\r\n            cancelLogin : function() {\r\n                this.$store.state.loginvisable = false;\r\n                this.$store.state.regvisable = true;\r\n                // this.$emit('closeLogin');\r\n            },\r\n            sureLogin : function() {\r\n\r\n                if (this.username.length ==0) {\r\n                    this.$message({\r\n                        message: '请输入用户名',\r\n                        type: 'warning'\r\n                    });\r\n                    return;\r\n                }\r\n                if (this.pwd.length == 0){\r\n                    this.$message({\r\n                        message: '请输入密码',\r\n                        type: 'warning'\r\n                    });\r\n                }\r\n\r\n                networkrequest({\r\n                    url: apiName.token_api,\r\n                    method: 'POST',\r\n                    data: {\r\n                        username: this.username,\r\n                        password: this.pwd\r\n                    }\r\n                }).then(res => {\r\n                    console.log(res.data.token)\r\n                    const usertoken = res.data.token\r\n                    this.$store.commit('setLoginStatus', true)\r\n                    this.$store.commit('storeUsertoken', usertoken)\r\n                    this.$store.commit('setloginvisable', false)\r\n                    // this.$store.state.loginvisable = false\r\n                    this.$router.push('userprofile')\r\n                }).catch(error =>{\r\n                    console.log(error.response)\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/login"}]}