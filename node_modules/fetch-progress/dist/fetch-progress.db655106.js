parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({3:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var e=1,r=65535,t=4,n=function(){e=e+1&r},u=setInterval(n,1e3/t|0);function f(n){var u=t*(n||5),f=[0],o=1,a=e-1&r;return function(n){var l=e-a&r;for(l>u&&(l=u),a=e;l--;)o===u&&(o=0),f[o]=f[0===o?u-1:o-1],o++;n&&(f[o-1]+=n);var s=f[o-1],v=f.length<u?0:f[o===u?0:o];return f.length<t?s:(s-v)*t/f.length}}u.unref&&u.unref();
},{}],2:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),t=require("./speedometer"),n=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;r(this,t),this.length=parseInt(e,10)||0,this.transferred=0,this.speed=0,this.streamSpeed=(0,n.default)(this.speed||5e3),this.initial=!1,this.emitDelay=i,this.eventStart=0,this.percentage=0}return e(t,[{key:"getRemainingBytes",value:function(){return parseInt(this.length,10)-parseInt(this.transferred,10)}},{key:"getEta",value:function(){return this.length>=this.transferred?this.getRemainingBytes()/this.speed*1e9:0}},{key:"flow",value:function(e,t){var n=e.length;if(this.transferred+=n,this.speed=this.streamSpeed(n),this.percentage=Math.round(this.transferred/this.length*100),this.initial||(this.eventStart=Date.now(),this.initial=!0),this.length>=this.transferred||Date.now()-this.eventStart>this.emitDelay){this.eventStart=Date.now();var i={total:this.length,transferred:this.transferred,speed:this.speed,eta:this.getEta()};this.length&&(i.remaining=this.getRemainingBytes(),i.percentage=this.percentage),t(i)}}}]),t}();exports.default=s;
},{"./speedometer":3}],1:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFetchProgressSupported=r,exports.default=function(e){var t=e.defaultSize,o=void 0===t?0:t,u=e.emitDelay,d=void 0===u?10:u,i=e.onProgress,a=void 0===i?function(){return null}:i,s=e.onComplete,f=void 0===s?function(){return null}:s;return function(e){if(!r())return e;var t=e.body,u=e.headers,i=u.get("content-length")||o,s=new n.default(i,d),l=t.getReader(),c=new ReadableStream({start:function(e){!function n(){l.read().then(function(t){var r=t.done,o=t.value;if(r)return f({}),void e.close();o&&s.flow(o,a),e.enqueue(o),n()})}()}});return new Response(c,{headers:u})}};var e=require("./Progress"),n=t(e);function t(e){return e&&e.__esModule?e:{default:e}}function r(){return"undefined"!=typeof Response&&"undefined"!=typeof ReadableStream}
},{"./Progress":2}]},{},[1])
//# sourceMappingURL=/fetch-progress.db655106.map