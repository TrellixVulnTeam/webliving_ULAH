{"version":3,"file":"main.es.js","sources":["../../../node_modules/.pnpm/vanilla-lazyload@17.5.0/node_modules/vanilla-lazyload/dist/lazyload.esm.js","../../../node_modules/.pnpm/mimic-fn@3.1.0/node_modules/mimic-fn/index.js","../../../node_modules/.pnpm/debounce-fn@5.0.0/node_modules/debounce-fn/index.js","../../../node_modules/.pnpm/side-effect-manager@0.1.5/node_modules/side-effect-manager/dist/side-effect-manager.es.js","../src/DocsViewer/icons/sidebar.ts","../src/DocsViewer/icons/arrow-left.ts","../src/DocsViewer/icons/arrow-right.ts","../src/DocsViewer/icons/play.ts","../src/DocsViewer/icons/pause.ts","../src/DocsViewer/index.ts","../src/utils/helpers.ts","../src/StaticDocsViewer/index.ts","../src/DynamicDocsViewer/index.ts","../src/constants.ts","../src/index.ts"],"sourcesContent":["const runningOnBrowser = typeof window !== \"undefined\";\r\n\r\nconst isBot =\r\n    (runningOnBrowser && !(\"onscroll\" in window)) ||\r\n    (typeof navigator !== \"undefined\" && /(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent));\r\n\r\nconst supportsIntersectionObserver = runningOnBrowser && \"IntersectionObserver\" in window;\r\n\r\nconst supportsClassList = runningOnBrowser && \"classList\" in document.createElement(\"p\");\r\n\r\nconst isHiDpi = runningOnBrowser && window.devicePixelRatio > 1;\r\n\r\nconst defaultSettings = {\r\n    elements_selector: \".lazy\",\r\n    container: isBot || runningOnBrowser ? document : null,\r\n    threshold: 300,\r\n    thresholds: null,\r\n    data_src: \"src\",\r\n    data_srcset: \"srcset\",\r\n    data_sizes: \"sizes\",\r\n    data_bg: \"bg\",\r\n    data_bg_hidpi: \"bg-hidpi\",\r\n    data_bg_multi: \"bg-multi\",\r\n    data_bg_multi_hidpi: \"bg-multi-hidpi\",\r\n    data_poster: \"poster\",\r\n    class_applied: \"applied\",\r\n    class_loading: \"loading\",\r\n    class_loaded: \"loaded\",\r\n    class_error: \"error\",\r\n    class_entered: \"entered\",\r\n    class_exited: \"exited\",\r\n    unobserve_completed: true,\r\n    unobserve_entered: false,\r\n    cancel_on_exit: true,\r\n    callback_enter: null,\r\n    callback_exit: null,\r\n    callback_applied: null,\r\n    callback_loading: null,\r\n    callback_loaded: null,\r\n    callback_error: null,\r\n    callback_finish: null,\r\n    callback_cancel: null,\r\n    use_native: false\r\n};\r\n\r\nconst getExtendedSettings = (customSettings) => {\r\n    return Object.assign({}, defaultSettings, customSettings);\r\n};\r\n\r\n/* Creates instance and notifies it through the window element */\r\nconst createInstance = function(classObj, options) {\r\n    let event;\r\n    const eventString = \"LazyLoad::Initialized\";\r\n    const instance = new classObj(options);\r\n    try {\r\n        // Works in modern browsers\r\n        event = new CustomEvent(eventString, { detail: { instance } });\r\n    } catch (err) {\r\n        // Works in Internet Explorer (all versions)\r\n        event = document.createEvent(\"CustomEvent\");\r\n        event.initCustomEvent(eventString, false, false, { instance });\r\n    }\r\n    window.dispatchEvent(event);\r\n};\r\n\r\n/* Auto initialization of one or more instances of lazyload, depending on the \r\n    options passed in (plain object or an array) */\r\nconst autoInitialize = (classObj, options) => {\r\n    if (!options) {\r\n        return;\r\n    }\r\n    if (!options.length) {\r\n        // Plain object\r\n        createInstance(classObj, options);\r\n    } else {\r\n        // Array of objects\r\n        for (let i = 0, optionsItem; (optionsItem = options[i]); i += 1) {\r\n            createInstance(classObj, optionsItem);\r\n        }\r\n    }\r\n};\r\n\r\nconst SRC = \"src\";\r\nconst SRCSET = \"srcset\";\r\nconst SIZES = \"sizes\";\r\nconst POSTER = \"poster\";\r\nconst ORIGINALS = \"llOriginalAttrs\";\r\n\r\nconst statusLoading = \"loading\";\r\nconst statusLoaded = \"loaded\";\r\nconst statusApplied = \"applied\";\r\nconst statusEntered = \"entered\";\r\nconst statusError = \"error\";\r\nconst statusNative = \"native\";\r\n\r\nconst dataPrefix = \"data-\";\r\nconst statusDataName = \"ll-status\";\r\n\r\nconst getData = (element, attribute) => {\r\n    return element.getAttribute(dataPrefix + attribute);\r\n};\r\n\r\nconst setData = (element, attribute, value) => {\r\n    var attrName = dataPrefix + attribute;\r\n    if (value === null) {\r\n        element.removeAttribute(attrName);\r\n        return;\r\n    }\r\n    element.setAttribute(attrName, value);\r\n};\r\n\r\nconst getStatus = (element) => getData(element, statusDataName);\r\nconst setStatus = (element, status) => setData(element, statusDataName, status);\r\nconst resetStatus = (element) => setStatus(element, null);\r\n\r\nconst hasEmptyStatus = (element) => getStatus(element) === null;\r\nconst hasStatusLoading = (element) => getStatus(element) === statusLoading;\r\nconst hasStatusError = (element) => getStatus(element) === statusError;\r\nconst hasStatusNative = (element) => getStatus(element) === statusNative;\r\n\r\nconst statusesAfterLoading = [statusLoading, statusLoaded, statusApplied, statusError];\r\nconst hadStartedLoading = (element) => statusesAfterLoading.indexOf(getStatus(element)) >= 0;\r\n\r\nconst safeCallback = (callback, arg1, arg2, arg3) => {\r\n\tif (!callback) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (arg3 !== undefined) {\r\n\t\tcallback(arg1, arg2, arg3);\r\n\t\treturn;\r\n\t}\r\n\tif (arg2 !== undefined) {\r\n\t\tcallback(arg1, arg2);\r\n\t\treturn;\r\n\t}\r\n\tcallback(arg1);\r\n};\r\n\r\nconst addClass = (element, className) => {\r\n\tif (supportsClassList) {\r\n\t\telement.classList.add(className);\r\n\t\treturn;\r\n\t}\r\n\telement.className += (element.className ? \" \" : \"\") + className;\r\n};\r\n\r\nconst removeClass = (element, className) => {\r\n\tif (supportsClassList) {\r\n\t\telement.classList.remove(className);\r\n\t\treturn;\r\n\t}\r\n\telement.className = element.className.\r\n\t\treplace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").\r\n\t\treplace(/^\\s+/, \"\").\r\n\t\treplace(/\\s+$/, \"\");\r\n};\r\n\r\nconst addTempImage = (element) => {\r\n    element.llTempImage = document.createElement(\"IMG\");\r\n};\r\n\r\nconst deleteTempImage = (element) => {\r\n    delete element.llTempImage;\r\n};\r\n\r\nconst getTempImage = (element) => element.llTempImage;\r\n\r\nconst unobserve = (element, instance) => {\r\n    if (!instance) return;\r\n    const observer = instance._observer;\r\n    if (!observer) return;\r\n    observer.unobserve(element);\r\n};\r\n\r\nconst resetObserver = (observer) => {\r\n    observer.disconnect();\r\n};\r\n\r\nconst unobserveEntered = (element, settings, instance) => {\r\n    if (settings.unobserve_entered) unobserve(element, instance);\r\n};\r\n\r\nconst updateLoadingCount = (instance, delta) => {\r\n    if (!instance) return;\r\n    instance.loadingCount += delta;\r\n};\r\n\r\nconst decreaseToLoadCount = (instance) => {\r\n    if (!instance) return;\r\n    instance.toLoadCount -= 1;\r\n};\r\n\r\nconst setToLoadCount = (instance, value) => {\r\n    if (!instance) return;\r\n    instance.toLoadCount = value;\r\n};\r\n\r\nconst isSomethingLoading = (instance) => instance.loadingCount > 0;\r\n\r\nconst haveElementsToLoad = (instance) => instance.toLoadCount > 0;\r\n\r\nconst getSourceTags = (parentTag) => {\r\n  let sourceTags = [];\r\n  for (let i = 0, childTag; (childTag = parentTag.children[i]); i += 1) {\r\n      if (childTag.tagName === \"SOURCE\") {\r\n          sourceTags.push(childTag);\r\n      }\r\n  }\r\n  return sourceTags;\r\n};\r\n\r\nconst forEachPictureSource = (element, fn) => {\r\n  const parent = element.parentNode;\r\n  if (!parent || parent.tagName !== \"PICTURE\") {\r\n      return;\r\n  }\r\n  let sourceTags = getSourceTags(parent);\r\n  sourceTags.forEach(fn);\r\n};\r\n\r\nconst forEachVideoSource = (element, fn) => {\r\n  let sourceTags = getSourceTags(element);\r\n  sourceTags.forEach(fn);\r\n};\r\n\r\nconst attrsSrc = [SRC];\r\nconst attrsSrcPoster = [SRC, POSTER];\r\nconst attrsSrcSrcsetSizes = [SRC, SRCSET, SIZES];\r\n\r\nconst hasOriginalAttrs = (element) => !!element[ORIGINALS];\r\nconst getOriginalAttrs = (element) => element[ORIGINALS];\r\nconst deleteOriginalAttrs = (element) => delete element[ORIGINALS];\r\n\r\n// ## SAVE ##\r\n\r\nconst setOriginalsObject = (element, attributes) => {\r\n    if (hasOriginalAttrs(element)) {\r\n        return;\r\n    }\r\n    const originals = {};\r\n    attributes.forEach((attribute) => {\r\n        originals[attribute] = element.getAttribute(attribute);\r\n    });\r\n    element[ORIGINALS] = originals;\r\n};\r\n\r\nconst saveOriginalBackgroundStyle = (element) => {\r\n    if (hasOriginalAttrs(element)) {\r\n        return;\r\n    }\r\n    element[ORIGINALS] = { backgroundImage: element.style.backgroundImage };\r\n};\r\n\r\n// ## RESTORE ##\r\n\r\nconst setOrResetAttribute = (element, attrName, value) => {\r\n    if (!value) {\r\n        element.removeAttribute(attrName);\r\n        return;\r\n    }\r\n    element.setAttribute(attrName, value);\r\n};\r\n\r\nconst restoreOriginalAttrs = (element, attributes) => {\r\n    if (!hasOriginalAttrs(element)) {\r\n        return;\r\n    }\r\n    const originals = getOriginalAttrs(element);\r\n    attributes.forEach((attribute) => {\r\n        setOrResetAttribute(element, attribute, originals[attribute]);\r\n    });\r\n};\r\n\r\nconst restoreOriginalBgImage = (element) => {\r\n    if (!hasOriginalAttrs(element)) {\r\n        return;\r\n    }\r\n    const originals = getOriginalAttrs(element);    \r\n    element.style.backgroundImage = originals.backgroundImage;\r\n};\r\n\r\nconst manageApplied = (element, settings, instance) => {\r\n    addClass(element, settings.class_applied);\r\n    setStatus(element, statusApplied);\r\n    // Instance is not provided when loading is called from static class\r\n    if (!instance) return;\r\n    if (settings.unobserve_completed) {\r\n        // Unobserve now because we can't do it on load\r\n        unobserve(element, settings);\r\n    }\r\n    safeCallback(settings.callback_applied, element, instance);\r\n};\r\n\r\nconst manageLoading = (element, settings, instance) => {\r\n    addClass(element, settings.class_loading);\r\n    setStatus(element, statusLoading);\r\n    // Instance is not provided when loading is called from static class\r\n    if (!instance) return;\r\n    updateLoadingCount(instance, +1);\r\n    safeCallback(settings.callback_loading, element, instance);\r\n};\r\n\r\nconst setAttributeIfValue = (element, attrName, value) => {\r\n    if (!value) {\r\n        return;\r\n    }\r\n    element.setAttribute(attrName, value);\r\n};\r\n\r\nconst setImageAttributes = (element, settings) => {\r\n    setAttributeIfValue(element, SIZES, getData(element, settings.data_sizes));\r\n    setAttributeIfValue(element, SRCSET, getData(element, settings.data_srcset));\r\n    setAttributeIfValue(element, SRC, getData(element, settings.data_src));\r\n};\r\n\r\nconst setSourcesImg = (imgEl, settings) => {\r\n    forEachPictureSource(imgEl, (sourceTag) => {\r\n        setOriginalsObject(sourceTag, attrsSrcSrcsetSizes);\r\n        setImageAttributes(sourceTag, settings);\r\n    });\r\n    setOriginalsObject(imgEl, attrsSrcSrcsetSizes);\r\n    setImageAttributes(imgEl, settings);\r\n};\r\n\r\nconst setSourcesIframe = (iframe, settings) => {\r\n    setOriginalsObject(iframe, attrsSrc);\r\n    setAttributeIfValue(iframe, SRC, getData(iframe, settings.data_src));\r\n};\r\n\r\nconst setSourcesVideo = (videoEl, settings) => {\r\n    forEachVideoSource(videoEl, (sourceEl) => {\r\n        setOriginalsObject(sourceEl, attrsSrc);\r\n        setAttributeIfValue(sourceEl, SRC, getData(sourceEl, settings.data_src));\r\n    });\r\n    setOriginalsObject(videoEl, attrsSrcPoster);\r\n\r\n    setAttributeIfValue(videoEl, POSTER, getData(videoEl, settings.data_poster));\r\n    setAttributeIfValue(videoEl, SRC, getData(videoEl, settings.data_src));\r\n    videoEl.load();\r\n};\r\n\r\nconst setBackground = (element, settings, instance) => {\r\n    const bg1xValue = getData(element, settings.data_bg);\r\n    const bgHiDpiValue = getData(element, settings.data_bg_hidpi);\r\n    const bgDataValue = isHiDpi && bgHiDpiValue ? bgHiDpiValue : bg1xValue;\r\n    if (!bgDataValue) return;\r\n    element.style.backgroundImage = `url(\"${bgDataValue}\")`;\r\n    getTempImage(element).setAttribute(SRC, bgDataValue);\r\n    manageLoading(element, settings, instance);\r\n};\r\n\r\n// NOTE: THE TEMP IMAGE TRICK CANNOT BE DONE WITH data-multi-bg\r\n// BECAUSE INSIDE ITS VALUES MUST BE WRAPPED WITH URL() AND ONE OF THEM\r\n// COULD BE A GRADIENT BACKGROUND IMAGE\r\nconst setMultiBackground = (element, settings, instance) => {\r\n    const bg1xValue = getData(element, settings.data_bg_multi);\r\n    const bgHiDpiValue = getData(element, settings.data_bg_multi_hidpi);\r\n    const bgDataValue = isHiDpi && bgHiDpiValue ? bgHiDpiValue : bg1xValue;\r\n    if (!bgDataValue) {\r\n        return;\r\n    }\r\n    element.style.backgroundImage = bgDataValue;\r\n    manageApplied(element, settings, instance);\r\n};\r\n\r\nconst setSourcesFunctions = {\r\n    IMG: setSourcesImg,\r\n    IFRAME: setSourcesIframe,\r\n    VIDEO: setSourcesVideo\r\n};\r\n\r\nconst setSourcesNative = (element, settings) => {\r\n    const setSourcesFunction = setSourcesFunctions[element.tagName];\r\n    if (!setSourcesFunction) {\r\n        return;\r\n    }\r\n    setSourcesFunction(element, settings);\r\n};\r\n\r\nconst setSources = (element, settings, instance) => {\r\n    const setSourcesFunction = setSourcesFunctions[element.tagName];\r\n    if (!setSourcesFunction) {\r\n        return;\r\n    }\r\n    setSourcesFunction(element, settings);\r\n    manageLoading(element, settings, instance);\r\n};\r\n\r\nconst elementsWithLoadEvent = [\"IMG\", \"IFRAME\", \"VIDEO\"];\r\nconst hasLoadEvent = (element) => elementsWithLoadEvent.indexOf(element.tagName) > -1;\r\n\r\nconst checkFinish = (settings, instance) => {\r\n    if (instance && !isSomethingLoading(instance) && !haveElementsToLoad(instance)) {\r\n        safeCallback(settings.callback_finish, instance);\r\n    }\r\n};\r\n\r\nconst addEventListener = (element, eventName, handler) => {\r\n    element.addEventListener(eventName, handler);\r\n    element.llEvLisnrs[eventName] = handler;\r\n};\r\n\r\nconst removeEventListener = (element, eventName, handler) => {\r\n    element.removeEventListener(eventName, handler);\r\n};\r\n\r\nconst hasEventListeners = (element) => {\r\n    return !!element.llEvLisnrs;\r\n};\r\n\r\nconst addEventListeners = (element, loadHandler, errorHandler) => {\r\n    if (!hasEventListeners(element)) element.llEvLisnrs = {};\r\n    const loadEventName = element.tagName === \"VIDEO\" ? \"loadeddata\" : \"load\";\r\n    addEventListener(element, loadEventName, loadHandler);\r\n    addEventListener(element, \"error\", errorHandler);\r\n};\r\n\r\nconst removeEventListeners = (element) => {\r\n    if (!hasEventListeners(element)) {\r\n        return;\r\n    }\r\n    const eventListeners = element.llEvLisnrs;\r\n    for (let eventName in eventListeners) {\r\n        const handler = eventListeners[eventName];\r\n        removeEventListener(element, eventName, handler);\r\n    }\r\n    delete element.llEvLisnrs;\r\n};\r\n\r\nconst doneHandler = (element, settings, instance) => {\r\n    deleteTempImage(element);\r\n    updateLoadingCount(instance, -1);\r\n    decreaseToLoadCount(instance);\r\n    removeClass(element, settings.class_loading);\r\n    if (settings.unobserve_completed) {\r\n        unobserve(element, instance);\r\n    }\r\n};\r\n\r\nconst loadHandler = (event, element, settings, instance) => {\r\n    const goingNative = hasStatusNative(element);\r\n    doneHandler(element, settings, instance);\r\n    addClass(element, settings.class_loaded);\r\n    setStatus(element, statusLoaded);\r\n    safeCallback(settings.callback_loaded, element, instance);\r\n    if (!goingNative) checkFinish(settings, instance);\r\n};\r\n\r\nconst errorHandler = (event, element, settings, instance) => {\r\n    const goingNative = hasStatusNative(element);\r\n    doneHandler(element, settings, instance);\r\n    addClass(element, settings.class_error);\r\n    setStatus(element, statusError);\r\n    safeCallback(settings.callback_error, element, instance);\r\n    if (!goingNative) checkFinish(settings, instance);\r\n};\r\n\r\nconst addOneShotEventListeners = (element, settings, instance) => {\r\n    const elementToListenTo = getTempImage(element) || element;\r\n    if (hasEventListeners(elementToListenTo)) {\r\n        // This happens when loading is retried twice\r\n        return;\r\n    }\r\n    const _loadHandler = (event) => {\r\n        loadHandler(event, element, settings, instance);\r\n        removeEventListeners(elementToListenTo);\r\n    };\r\n    const _errorHandler = (event) => {\r\n        errorHandler(event, element, settings, instance);\r\n        removeEventListeners(elementToListenTo);\r\n    };\r\n    addEventListeners(elementToListenTo, _loadHandler, _errorHandler);\r\n};\r\n\r\nconst loadBackground = (element, settings, instance) => {\r\n    addTempImage(element);\r\n    addOneShotEventListeners(element, settings, instance);\r\n    saveOriginalBackgroundStyle(element);\r\n    setBackground(element, settings, instance);\r\n    setMultiBackground(element, settings, instance);\r\n};\r\n\r\nconst loadRegular = (element, settings, instance) => {\r\n    addOneShotEventListeners(element, settings, instance);\r\n    setSources(element, settings, instance);\r\n};\r\n\r\nconst load = (element, settings, instance) => {\r\n    if (hasLoadEvent(element)) {\r\n        loadRegular(element, settings, instance);\r\n    } else {\r\n        loadBackground(element, settings, instance);\r\n    }\r\n};\r\n\r\nconst loadNative = (element, settings, instance) => {\r\n    element.setAttribute(\"loading\", \"lazy\");\r\n    addOneShotEventListeners(element, settings, instance);\r\n    setSourcesNative(element, settings);\r\n    setStatus(element, statusNative);\r\n};\r\n\r\nconst removeImageAttributes = (element) => {\r\n    element.removeAttribute(SRC);\r\n    element.removeAttribute(SRCSET);\r\n    element.removeAttribute(SIZES);\r\n};\r\n\r\nconst resetSourcesImg = (element) => {\r\n    forEachPictureSource(element, (sourceTag) => {\r\n        removeImageAttributes(sourceTag);\r\n    });\r\n    removeImageAttributes(element);\r\n};\r\n\r\nconst restoreImg = (imgEl) => {\r\n    forEachPictureSource(imgEl, (sourceEl) => {\r\n        restoreOriginalAttrs(sourceEl, attrsSrcSrcsetSizes);\r\n    });\r\n    restoreOriginalAttrs(imgEl, attrsSrcSrcsetSizes);\r\n};\r\n\r\nconst restoreVideo = (videoEl) => {\r\n    forEachVideoSource(videoEl, (sourceEl) => {\r\n        restoreOriginalAttrs(sourceEl, attrsSrc);\r\n    });\r\n    restoreOriginalAttrs(videoEl, attrsSrcPoster);\r\n    videoEl.load();\r\n};\r\n\r\nconst restoreIframe = (iframeEl) => {\r\n    restoreOriginalAttrs(iframeEl, attrsSrc);\r\n};\r\n\r\nconst restoreFunctions = {\r\n    IMG: restoreImg,\r\n    IFRAME: restoreIframe,\r\n    VIDEO: restoreVideo\r\n};\r\n\r\nconst restoreAttributes = (element) => {\r\n    const restoreFunction = restoreFunctions[element.tagName];\r\n    if (!restoreFunction) {\r\n        restoreOriginalBgImage(element);\r\n        return;\r\n    }\r\n    restoreFunction(element);\r\n};\r\n\r\nconst resetClasses = (element, settings) => {\r\n    if (hasEmptyStatus(element) || hasStatusNative(element)) {\r\n        return;\r\n    }\r\n    removeClass(element, settings.class_entered);\r\n    removeClass(element, settings.class_exited);\r\n    removeClass(element, settings.class_applied);\r\n    removeClass(element, settings.class_loading);\r\n    removeClass(element, settings.class_loaded);\r\n    removeClass(element, settings.class_error);\r\n};\r\n\r\nconst restore = (element, settings) => {\r\n    restoreAttributes(element);\r\n    resetClasses(element, settings);\r\n    resetStatus(element);\r\n    deleteOriginalAttrs(element);\r\n};\r\n\r\nconst cancelLoading = (element, entry, settings, instance) => {\r\n    if (!settings.cancel_on_exit) return;\r\n    if (!hasStatusLoading(element)) return;\r\n    if (element.tagName !== \"IMG\") return; //Works only on images\r\n    removeEventListeners(element);\r\n    resetSourcesImg(element);\r\n    restoreImg(element);\r\n    removeClass(element, settings.class_loading);\r\n    updateLoadingCount(instance, -1);\r\n    resetStatus(element);\r\n    safeCallback(settings.callback_cancel, element, entry, instance);\r\n};\r\n\r\nconst onEnter = (element, entry, settings, instance) => {\r\n    const dontLoad = hadStartedLoading(element); /* Save status \r\n        before setting it, to prevent loading it again. Fixes #526. */\r\n    setStatus(element, statusEntered);\r\n    addClass(element, settings.class_entered);\r\n    removeClass(element, settings.class_exited);\r\n    unobserveEntered(element, settings, instance);\r\n    safeCallback(settings.callback_enter, element, entry, instance);\r\n    if (dontLoad) return;\r\n    load(element, settings, instance);\r\n};\r\n\r\nconst onExit = (element, entry, settings, instance) => {\r\n    if (hasEmptyStatus(element)) return; //Ignore the first pass, at landing\r\n    addClass(element, settings.class_exited);\r\n    cancelLoading(element, entry, settings, instance);\r\n    safeCallback(settings.callback_exit, element, entry, instance);\r\n};\r\n\r\nconst tagsWithNativeLazy = [\"IMG\", \"IFRAME\", \"VIDEO\"];\r\n\r\nconst shouldUseNative = (settings) =>\r\n    settings.use_native && \"loading\" in HTMLImageElement.prototype;\r\n\r\nconst loadAllNative = (elements, settings, instance) => {\r\n    elements.forEach((element) => {\r\n        if (tagsWithNativeLazy.indexOf(element.tagName) === -1) {\r\n            return;\r\n        }\r\n        loadNative(element, settings, instance);\r\n    });\r\n    setToLoadCount(instance, 0);\r\n};\r\n\r\nconst isIntersecting = (entry) => entry.isIntersecting || entry.intersectionRatio > 0;\r\n\r\nconst getObserverSettings = (settings) => ({\r\n    root: settings.container === document ? null : settings.container,\r\n    rootMargin: settings.thresholds || settings.threshold + \"px\"\r\n});\r\n\r\nconst intersectionHandler = (entries, settings, instance) => {\r\n    entries.forEach((entry) =>\r\n        isIntersecting(entry)\r\n            ? onEnter(entry.target, entry, settings, instance)\r\n            : onExit(entry.target, entry, settings, instance)\r\n    );\r\n};\r\n\r\nconst observeElements = (observer, elements) => {\r\n    elements.forEach((element) => {\r\n        observer.observe(element);\r\n    });\r\n};\r\n\r\nconst updateObserver = (observer, elementsToObserve) => {\r\n    resetObserver(observer);\r\n    observeElements(observer, elementsToObserve);\r\n};\r\n\r\nconst setObserver = (settings, instance) => {\r\n    if (!supportsIntersectionObserver || shouldUseNative(settings)) {\r\n        return;\r\n    }\r\n    instance._observer = new IntersectionObserver((entries) => {\r\n        intersectionHandler(entries, settings, instance);\r\n    }, getObserverSettings(settings));\r\n};\r\n\r\nconst toArray = (nodeSet) => Array.prototype.slice.call(nodeSet);\r\n\r\nconst queryElements = (settings) =>\r\n    settings.container.querySelectorAll(settings.elements_selector);\r\n\r\nconst excludeManagedElements = (elements) => toArray(elements).filter(hasEmptyStatus);\r\n\r\nconst hasError = (element) => hasStatusError(element);\r\nconst filterErrorElements = (elements) => toArray(elements).filter(hasError);\r\n\r\nconst getElementsToLoad = (elements, settings) =>\r\n    excludeManagedElements(elements || queryElements(settings));\r\n\r\nconst retryLazyLoad = (settings, instance) => {\r\n    const errorElements = filterErrorElements(queryElements(settings));\r\n    errorElements.forEach(element => {\r\n        removeClass(element, settings.class_error);\r\n        resetStatus(element);\r\n    });\r\n    instance.update();\r\n};\r\n\r\nconst setOnlineCheck = (settings, instance) => {\r\n    if (!runningOnBrowser) {\r\n        return;\r\n    }\r\n    window.addEventListener(\"online\", () => {\r\n        retryLazyLoad(settings, instance);\r\n    });\r\n};\r\n\r\nconst LazyLoad = function (customSettings, elements) {\r\n    const settings = getExtendedSettings(customSettings);\r\n    this._settings = settings;\r\n    this.loadingCount = 0;\r\n    setObserver(settings, this);\r\n    setOnlineCheck(settings, this);\r\n    this.update(elements);\r\n};\r\n\r\nLazyLoad.prototype = {\r\n    update: function (givenNodeset) {\r\n        const settings = this._settings;\r\n        const elementsToLoad = getElementsToLoad(givenNodeset, settings);\r\n        setToLoadCount(this, elementsToLoad.length);\r\n\r\n        if (isBot || !supportsIntersectionObserver) {\r\n            this.loadAll(elementsToLoad);\r\n            return;\r\n        }\r\n        if (shouldUseNative(settings)) {\r\n            loadAllNative(elementsToLoad, settings, this);\r\n            return;\r\n        }\r\n\r\n        updateObserver(this._observer, elementsToLoad);\r\n    },\r\n\r\n    destroy: function () {\r\n        // Observer\r\n        if (this._observer) {\r\n            this._observer.disconnect();\r\n        }\r\n        // Clean custom attributes on elements\r\n        queryElements(this._settings).forEach((element) => {\r\n            deleteOriginalAttrs(element);\r\n        });\r\n        // Delete all internal props\r\n        delete this._observer;\r\n        delete this._settings;\r\n        delete this.loadingCount;\r\n        delete this.toLoadCount;\r\n    },\r\n\r\n    loadAll: function (elements) {\r\n        const settings = this._settings;\r\n        const elementsToLoad = getElementsToLoad(elements, settings);\r\n        elementsToLoad.forEach((element) => {\r\n            unobserve(element, this);\r\n            load(element, settings, this);\r\n        });\r\n    },\r\n\r\n    restoreAll: function() {\r\n        const settings = this._settings;\r\n        queryElements(settings).forEach((element) => {\r\n            restore(element, settings);\r\n        });\r\n    }\r\n};\r\n\r\nLazyLoad.load = (element, customSettings) => {\r\n    const settings = getExtendedSettings(customSettings);\r\n    load(element, settings);\r\n};\r\n\r\nLazyLoad.resetStatus = (element) => {\r\n    resetStatus(element);\r\n};\r\n\r\n// Automatic instances creation if required (useful for async script loading)\r\nif (runningOnBrowser) {\r\n    autoInitialize(LazyLoad, window.lazyLoadOptions);\r\n}\r\n\r\nexport { LazyLoad as default };\r\n","'use strict';\n\nconst copyProperty = (to, from, property, ignoreNonConfigurable) => {\n\t// `Function#length` should reflect the parameters of `to` not `from` since we keep its body.\n\t// `Function#prototype` is non-writable and non-configurable so can never be modified.\n\tif (property === 'length' || property === 'prototype') {\n\t\treturn;\n\t}\n\n\t// `Function#arguments` and `Function#caller` should not be copied. They were reported to be present in `Reflect.ownKeys` for some devices in React Native (#41), so we explicitly ignore them here.\n\tif (property === 'arguments' || property === 'caller') {\n\t\treturn;\n\t}\n\n\tconst toDescriptor = Object.getOwnPropertyDescriptor(to, property);\n\tconst fromDescriptor = Object.getOwnPropertyDescriptor(from, property);\n\n\tif (!canCopyProperty(toDescriptor, fromDescriptor) && ignoreNonConfigurable) {\n\t\treturn;\n\t}\n\n\tObject.defineProperty(to, property, fromDescriptor);\n};\n\n// `Object.defineProperty()` throws if the property exists, is not configurable and either:\n//  - one its descriptors is changed\n//  - it is non-writable and its value is changed\nconst canCopyProperty = function (toDescriptor, fromDescriptor) {\n\treturn toDescriptor === undefined || toDescriptor.configurable || (\n\t\ttoDescriptor.writable === fromDescriptor.writable &&\n\t\ttoDescriptor.enumerable === fromDescriptor.enumerable &&\n\t\ttoDescriptor.configurable === fromDescriptor.configurable &&\n\t\t(toDescriptor.writable || toDescriptor.value === fromDescriptor.value)\n\t);\n};\n\nconst changePrototype = (to, from) => {\n\tconst fromPrototype = Object.getPrototypeOf(from);\n\tif (fromPrototype === Object.getPrototypeOf(to)) {\n\t\treturn;\n\t}\n\n\tObject.setPrototypeOf(to, fromPrototype);\n};\n\nconst wrappedToString = (withName, fromBody) => `/* Wrapped ${withName}*/\\n${fromBody}`;\n\nconst toStringDescriptor = Object.getOwnPropertyDescriptor(Function.prototype, 'toString');\nconst toStringName = Object.getOwnPropertyDescriptor(Function.prototype.toString, 'name');\n\n// We call `from.toString()` early (not lazily) to ensure `from` can be garbage collected.\n// We use `bind()` instead of a closure for the same reason.\n// Calling `from.toString()` early also allows caching it in case `to.toString()` is called several times.\nconst changeToString = (to, from, name) => {\n\tconst withName = name === '' ? '' : `with ${name.trim()}() `;\n\tconst newToString = wrappedToString.bind(null, withName, from.toString());\n\t// Ensure `to.toString.toString` is non-enumerable and has the same `same`\n\tObject.defineProperty(newToString, 'name', toStringName);\n\tObject.defineProperty(to, 'toString', {...toStringDescriptor, value: newToString});\n};\n\nconst mimicFn = (to, from, {ignoreNonConfigurable = false} = {}) => {\n\tconst {name} = to;\n\n\tfor (const property of Reflect.ownKeys(from)) {\n\t\tcopyProperty(to, from, property, ignoreNonConfigurable);\n\t}\n\n\tchangePrototype(to, from);\n\tchangeToString(to, from, name);\n\n\treturn to;\n};\n\nmodule.exports = mimicFn;\n","import mimicFn from 'mimic-fn';\n\nconst debounceFn = (inputFunction, options = {}) => {\n\tif (typeof inputFunction !== 'function') {\n\t\tthrow new TypeError(`Expected the first argument to be a function, got \\`${typeof inputFunction}\\``);\n\t}\n\n\tconst {\n\t\twait = 0,\n\t\tmaxWait = Number.Infinity,\n\t\tbefore = false,\n\t\tafter = true\n\t} = options;\n\n\tif (!before && !after) {\n\t\tthrow new Error('Both `before` and `after` are false, function wouldn\\'t be called.');\n\t}\n\n\tlet timeout;\n\tlet maxTimeout;\n\tlet result;\n\n\tconst debouncedFunction = function (...arguments_) {\n\t\tconst context = this;\n\n\t\tconst later = () => {\n\t\t\ttimeout = undefined;\n\n\t\t\tif (maxTimeout) {\n\t\t\t\tclearTimeout(maxTimeout);\n\t\t\t\tmaxTimeout = undefined;\n\t\t\t}\n\n\t\t\tif (after) {\n\t\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t\t}\n\t\t};\n\n\t\tconst maxLater = () => {\n\t\t\tmaxTimeout = undefined;\n\n\t\t\tif (timeout) {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\ttimeout = undefined;\n\t\t\t}\n\n\t\t\tif (after) {\n\t\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t\t}\n\t\t};\n\n\t\tconst shouldCallNow = before && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\n\t\tif (maxWait > 0 && maxWait !== Number.Infinity && !maxTimeout) {\n\t\t\tmaxTimeout = setTimeout(maxLater, maxWait);\n\t\t}\n\n\t\tif (shouldCallNow) {\n\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tmimicFn(debouncedFunction, inputFunction);\n\n\tdebouncedFunction.cancel = () => {\n\t\tif (timeout) {\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = undefined;\n\t\t}\n\n\t\tif (maxTimeout) {\n\t\t\tclearTimeout(maxTimeout);\n\t\t\tmaxTimeout = undefined;\n\t\t}\n\t};\n\n\treturn debouncedFunction;\n};\n\nexport default debounceFn;\n","const e=\"!#%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",s=e.length,t=Array(20),r=()=>{for(let r=0;r<20;r++)t[r]=e.charAt(Math.random()*s);return t.join(\"\")};class o{constructor(){this.disposers=new Map}add(e,s=r()){return this.flush(s),this.disposers.set(s,e()),s}addDisposer(e,s=r()){return this.flush(s),this.disposers.set(s,e),s}addEventListener(e,s,t,o,i=r()){return this.add((()=>(e.addEventListener(s,t,o),()=>e.removeEventListener(s,t,o))),i),i}setTimeout(e,s,t=r()){return this.add((()=>{const r=window.setTimeout((()=>{this.remove(t),e()}),s);return()=>window.clearTimeout(r)}),t)}setInterval(e,s,t=r()){return this.add((()=>{const t=window.setInterval(e,s);return()=>window.clearInterval(t)}),t)}remove(e){const s=this.disposers.get(e);return this.disposers.delete(e),s}flush(e){const s=this.remove(e);if(s)try{s()}catch(t){console.error(t)}}flushAll(){this.disposers.forEach((e=>{try{e()}catch(s){console.error(s)}})),this.disposers.clear()}}export{o as SideEffectManager,r as genUID};\n//# sourceMappingURL=side-effect-manager.es.js.map\n","export function sidebarSVG(namespace: string): SVGElement {\n  const NS = \"http://www.w3.org/2000/svg\";\n\n  const $svg = document.createElementNS(NS, \"svg\");\n  $svg.setAttribute(\"class\", `${namespace}-footer-icon-sidebar`);\n  $svg.setAttribute(\"viewBox\", \"0 0 64 64\");\n\n  const $path = document.createElementNS(NS, \"path\");\n  $path.setAttribute(\"fill\", \"currentColor\");\n  $path.setAttribute(\n    \"d\",\n    \"M50 8H14c-3.309 0-6 2.691-6 6v36c0 3.309 2.691 6 6 6h36c3.309 0 6-2.691 6-6V14c0-3.309-2.691-6-6-6zM12 50V14c0-1.103.897-2 2-2h8v40h-8c-1.103 0-2-.897-2-2zm40 0c0 1.103-.897 2-2 2H26V12h24c1.103 0 2 .897 2 2z\"\n  );\n\n  $svg.appendChild($path);\n\n  return $svg;\n}\n","export function arrowLeftSVG(namespace: string): SVGElement {\n  const NS = \"http://www.w3.org/2000/svg\";\n\n  const $svg = document.createElementNS(NS, \"svg\");\n  $svg.setAttribute(\"class\", `${namespace}-footer-icon-arrow-left`);\n  $svg.setAttribute(\"viewBox\", \"0 0 500 500\");\n\n  const $path = document.createElementNS(NS, \"path\");\n  $path.setAttribute(\"fill\", \"currentColor\");\n  $path.setAttribute(\n    \"d\",\n    \"M177.81 249.959L337.473 90.295c2.722-2.865 2.651-7.378-.143-10.1-2.793-2.65-7.163-2.65-9.956 0l-164.75 164.75c-2.793 2.793-2.793 7.306 0 10.1l164.75 164.75c2.865 2.722 7.378 2.65 10.099-.143 2.651-2.794 2.651-7.163 0-9.957L177.809 249.959z\"\n  );\n\n  $svg.appendChild($path);\n\n  return $svg;\n}\n","export function arrowRightSVG(namespace: string): SVGElement {\n  const NS = \"http://www.w3.org/2000/svg\";\n\n  const $svg = document.createElementNS(NS, \"svg\");\n  $svg.setAttribute(\"class\", `${namespace}-footer-icon-arrow-right`);\n  $svg.setAttribute(\"viewBox\", \"0 0 500 500\");\n\n  const $path = document.createElementNS(NS, \"path\");\n  $path.setAttribute(\"fill\", \"currentColor\");\n  $path.setAttribute(\n    \"d\",\n    \"M322.19 250.041L162.527 409.705c-2.722 2.865-2.651 7.378.143 10.1 2.793 2.65 7.163 2.65 9.956 0l164.75-164.75c2.793-2.793 2.793-7.306 0-10.1l-164.75-164.75c-2.865-2.722-7.378-2.65-10.099.143-2.651 2.794-2.651 7.163 0 9.957l159.664 159.736z\"\n  );\n\n  $svg.appendChild($path);\n\n  return $svg;\n}\n","export function playSVG(namespace: string): SVGElement {\n  const NS = \"http://www.w3.org/2000/svg\";\n\n  const $svg = document.createElementNS(NS, \"svg\");\n  $svg.setAttribute(\"class\", `${namespace}-footer-icon-play`);\n  $svg.setAttribute(\"viewBox\", \"0 0 500 500\");\n\n  const $path = document.createElementNS(NS, \"path\");\n  $path.setAttribute(\"fill\", \"currentColor\");\n  $path.setAttribute(\n    \"d\",\n    \"M418.158 257.419L174.663 413.33c-6.017 3.919-15.708 3.772-21.291-.29-2.791-2.018-4.295-4.483-4.295-7.084V94.109c0-5.65 6.883-10.289 15.271-10.289 4.298 0 8.391 1.307 11.181 3.332l242.629 155.484c6.016 3.917 6.451 10.292.649 14.491-.216.154-.432.154-.649.292zM170.621 391.288l223.116-141.301L170.71 107.753l-.089 283.535z\"\n  );\n\n  $svg.appendChild($path);\n\n  return $svg;\n}\n","export function pauseSVG(namespace: string): SVGElement {\n  const NS = \"http://www.w3.org/2000/svg\";\n\n  const $svg = document.createElementNS(NS, \"svg\");\n  $svg.setAttribute(\"class\", `${namespace}-footer-icon-pause`);\n  $svg.setAttribute(\"viewBox\", \"0 0 500 500\");\n\n  const $path = document.createElementNS(NS, \"path\");\n  $path.setAttribute(\"fill\", \"currentColor\");\n  $path.setAttribute(\n    \"d\",\n    \"M312.491 78.261c0-6.159 4.893-11.213 11.04-11.213 6.158 0 11.211 5.054 11.211 11.213v343.478c0 6.159-5.053 11.213-11.211 11.213-6.147 0-11.04-5.054-11.04-11.213V78.261zM165.257 78.261c0-6.159 4.893-11.213 11.04-11.213 6.158 0 11.211 5.054 11.211 11.213v343.478c0 6.159-5.053 11.213-11.211 11.213-6.147 0-11.04-5.054-11.04-11.213V78.261z\"\n  );\n\n  $svg.appendChild($path);\n\n  return $svg;\n}\n","import { sidebarSVG } from \"./icons/sidebar\";\nimport { arrowLeftSVG } from \"./icons/arrow-left\";\nimport { arrowRightSVG } from \"./icons/arrow-right\";\nimport { playSVG } from \"./icons/play\";\nimport { pauseSVG } from \"./icons/pause\";\n\nimport type { ReadonlyTeleBox } from \"@netless/window-manager\";\nimport LazyLoad from \"vanilla-lazyload\";\nimport { SideEffectManager } from \"side-effect-manager\";\n\nexport interface DocsViewerPage {\n  src: string;\n  height: number;\n  width: number;\n  thumbnail?: string;\n}\n\nexport interface DocsViewerConfig {\n  readonly: boolean;\n  box: ReadonlyTeleBox;\n  pages: DocsViewerPage[];\n  onNewPageIndex: (index: number) => void;\n  onPlay?: () => void;\n}\n\nexport class DocsViewer {\n  public constructor({ readonly, box, pages, onNewPageIndex, onPlay }: DocsViewerConfig) {\n    if (pages.length <= 0) {\n      throw new Error(\"[DocsViewer] Empty pages.\");\n    }\n\n    this.readonly = readonly;\n    this.box = box;\n    this.pages = pages;\n    this.onNewPageIndex = onNewPageIndex;\n    this.onPlay = onPlay;\n\n    this.render();\n  }\n\n  protected readonly: boolean;\n  protected pages: DocsViewerPage[];\n  protected box: ReadonlyTeleBox;\n  protected onNewPageIndex: (index: number) => void;\n  protected onPlay?: () => void;\n\n  public $content!: HTMLElement;\n  public $preview!: HTMLElement;\n  public $previewMask!: HTMLElement;\n  public $footer!: HTMLElement;\n  public $pageNumberInput!: HTMLInputElement;\n\n  public pageIndex = 0;\n\n  public mount(): void {\n    this.box.mountContent(this.$content);\n    this.box.mountFooter(this.$footer);\n\n    this.sideEffect.add(() => {\n      const previewLazyLoad = new LazyLoad({\n        container: this.$preview,\n        elements_selector: `.${this.wrapClassName(\"preview-page>img\")}`,\n      });\n      return () => previewLazyLoad.destroy();\n    }, \"preview-lazyload\");\n  }\n\n  public unmount(): void {\n    this.$content.remove();\n    this.$footer.remove();\n  }\n\n  public setReadonly(readonly: boolean): void {\n    if (this.readonly !== readonly) {\n      this.readonly = readonly;\n\n      this.$content.classList.toggle(this.wrapClassName(\"readonly\"), readonly);\n\n      this.$footer.classList.toggle(this.wrapClassName(\"readonly\"), readonly);\n\n      this.$pageNumberInput.disabled = readonly;\n    }\n  }\n\n  public destroy(): void {\n    this.sideEffect.flushAll();\n    this.unmount();\n  }\n\n  public setPageIndex(pageIndex: number): void {\n    if (!Number.isNaN(pageIndex)) {\n      this.pageIndex = pageIndex;\n      this.$pageNumberInput.value = String(pageIndex + 1);\n    }\n  }\n\n  public setSmallBox(isSmallBox: boolean): void {\n    if (this.isSmallBox !== isSmallBox) {\n      this.isSmallBox = isSmallBox;\n      this.$footer.classList.toggle(this.wrapClassName(\"float-footer\"), isSmallBox);\n    }\n  }\n\n  public render(): HTMLElement {\n    this.renderContent();\n    this.renderFooter();\n    return this.$content;\n  }\n\n  protected renderContent(): HTMLElement {\n    if (!this.$content) {\n      const $content = document.createElement(\"div\");\n      $content.className = this.wrapClassName(\"content\");\n      this.$content = $content;\n\n      if (this.readonly) {\n        $content.classList.add(this.wrapClassName(\"readonly\"));\n      }\n\n      $content.appendChild(this.renderPreviewMask());\n      $content.appendChild(this.renderPreview());\n    }\n    return this.$content;\n  }\n\n  protected renderPreview(): HTMLElement {\n    if (!this.$preview) {\n      const $preview = document.createElement(\"div\");\n      $preview.className = this.wrapClassName(\"preview\") + \" tele-fancy-scrollbar\";\n      this.$preview = $preview;\n\n      const pageClassName = this.wrapClassName(\"preview-page\");\n      const pageNameClassName = this.wrapClassName(\"preview-page-name\");\n      this.pages.forEach((page, i) => {\n        const previewSRC = page.thumbnail ?? (page.src.startsWith(\"ppt\") ? void 0 : page.src);\n        if (!previewSRC) {\n          return;\n        }\n\n        const pageIndex = String(i);\n\n        const $page = document.createElement(\"a\");\n        $page.className = pageClassName + \" \" + this.wrapClassName(`preview-page-${i}`);\n        $page.setAttribute(\"href\", \"#\");\n        $page.dataset.pageIndex = pageIndex;\n\n        const $name = document.createElement(\"span\");\n        $name.className = pageNameClassName;\n        $name.textContent = String(i + 1);\n        $name.dataset.pageIndex = pageIndex;\n\n        const $img = document.createElement(\"img\");\n        $img.width = page.width;\n        $img.height = page.height;\n        $img.dataset.src = previewSRC;\n        $img.dataset.pageIndex = pageIndex;\n\n        $page.appendChild($img);\n        $page.appendChild($name);\n        $preview.appendChild($page);\n      });\n\n      this.sideEffect.addEventListener($preview, \"click\", ev => {\n        if (this.readonly) {\n          return;\n        }\n        const pageIndex = (ev.target as HTMLElement).dataset?.pageIndex;\n        if (pageIndex) {\n          ev.preventDefault();\n          ev.stopPropagation();\n          ev.stopImmediatePropagation();\n          this.onNewPageIndex(Number(pageIndex));\n          this.togglePreview(false);\n        }\n      });\n    }\n\n    return this.$preview;\n  }\n\n  protected renderPreviewMask(): HTMLElement {\n    if (!this.$previewMask) {\n      this.$previewMask = document.createElement(\"div\");\n      this.$previewMask.className = this.wrapClassName(\"preview-mask\");\n      this.sideEffect.addEventListener(this.$previewMask, \"click\", ev => {\n        if (this.readonly) {\n          return;\n        }\n        if (ev.target === this.$previewMask) {\n          this.togglePreview(false);\n        }\n      });\n    }\n    return this.$previewMask;\n  }\n\n  protected renderFooter(): HTMLElement {\n    if (!this.$footer) {\n      const $footer = document.createElement(\"div\");\n      $footer.className = this.wrapClassName(\"footer\");\n      this.$footer = $footer;\n\n      if (this.readonly) {\n        $footer.classList.add(this.wrapClassName(\"readonly\"));\n      }\n\n      if (this.isSmallBox) {\n        $footer.classList.add(this.wrapClassName(\"float-footer\"));\n      }\n\n      if (this.pages.some(page => page.thumbnail || !page.src.startsWith(\"ppt\"))) {\n        const $btnSidebar = this.renderFooterBtn(\"btn-sidebar\", sidebarSVG(this.namespace));\n        this.sideEffect.addEventListener($btnSidebar, \"click\", () => {\n          if (this.readonly) {\n            return;\n          }\n          this.togglePreview();\n        });\n        this.$footer.appendChild($btnSidebar);\n      }\n\n      const $pageJumps = document.createElement(\"div\");\n      $pageJumps.className = this.wrapClassName(\"page-jumps\");\n\n      const $btnPageBack = this.renderFooterBtn(\"btn-page-back\", arrowLeftSVG(this.namespace));\n      this.sideEffect.addEventListener($btnPageBack, \"click\", () => {\n        if (this.readonly) {\n          return;\n        }\n        this.onNewPageIndex(this.pageIndex - 1);\n      });\n      $pageJumps.appendChild($btnPageBack);\n\n      if (this.onPlay) {\n        const $btnPlay = this.renderFooterBtn(\n          \"btn-page-play\",\n          playSVG(this.namespace),\n          pauseSVG(this.namespace)\n        );\n        const returnPlay = (): void => {\n          this.sideEffect.setTimeout(\n            () => {\n              $btnPlay.classList.toggle(this.wrapClassName(\"footer-btn-playing\"), false);\n            },\n            500,\n            \"returnPlay\"\n          );\n        };\n        this.sideEffect.addEventListener($btnPlay, \"click\", () => {\n          if (this.readonly) {\n            return;\n          }\n          $btnPlay.classList.toggle(this.wrapClassName(\"footer-btn-playing\"), true);\n          if (this.onPlay) {\n            this.onPlay();\n          }\n          returnPlay();\n        });\n\n        $pageJumps.appendChild($btnPlay);\n      }\n\n      const $btnPageNext = this.renderFooterBtn(\"btn-page-next\", arrowRightSVG(this.namespace));\n      this.sideEffect.addEventListener($btnPageNext, \"click\", () => {\n        if (this.readonly) {\n          return;\n        }\n        this.onNewPageIndex(this.pageIndex + 1);\n      });\n      $pageJumps.appendChild($btnPageNext);\n\n      const $pageNumber = document.createElement(\"div\");\n      $pageNumber.className = this.wrapClassName(\"page-number\");\n\n      const $pageNumberInput = document.createElement(\"input\");\n      $pageNumberInput.className = this.wrapClassName(\"page-number-input\");\n      $pageNumberInput.value = String(this.pageIndex + 1);\n      if (this.readonly) {\n        $pageNumberInput.disabled = true;\n      }\n      this.$pageNumberInput = $pageNumberInput;\n      this.sideEffect.addEventListener($pageNumberInput, \"change\", () => {\n        if (this.readonly) {\n          return;\n        }\n        if ($pageNumberInput.value) {\n          this.onNewPageIndex(Number($pageNumberInput.value) - 1);\n        }\n      });\n\n      const $totalPage = document.createElement(\"span\");\n      $totalPage.textContent = \" / \" + this.pages.length;\n\n      $pageNumber.appendChild($pageNumberInput);\n      $pageNumber.appendChild($totalPage);\n\n      this.$footer.appendChild($pageJumps);\n      this.$footer.appendChild($pageNumber);\n    }\n    return this.$footer;\n  }\n\n  protected renderFooterBtn(\n    className: string,\n    $icon: SVGElement,\n    $iconActive?: SVGElement\n  ): HTMLButtonElement {\n    const $btn = document.createElement(\"button\");\n    $btn.className = this.wrapClassName(\"footer-btn\") + \" \" + this.wrapClassName(className);\n\n    $btn.appendChild($icon);\n\n    if ($iconActive) {\n      $btn.appendChild($iconActive);\n    }\n\n    return $btn;\n  }\n\n  protected togglePreview(isShowPreview?: boolean): void {\n    this.isShowPreview = isShowPreview ?? !this.isShowPreview;\n    this.$content.classList.toggle(this.wrapClassName(\"preview-active\"), this.isShowPreview);\n    if (this.isShowPreview) {\n      const $previewPage = this.$preview.querySelector<HTMLElement>(\n        \".\" + this.wrapClassName(`preview-page-${this.pageIndex}`)\n      );\n      if ($previewPage) {\n        this.$preview.scrollTo({\n          top: $previewPage.offsetTop - 16,\n        });\n      }\n    }\n  }\n\n  protected wrapClassName(className: string): string {\n    return `${this.namespace}-${className}`;\n  }\n\n  protected namespace = \"netless-app-docs-viewer\";\n\n  protected isShowPreview = false;\n\n  protected isSmallBox = false;\n\n  protected sideEffect = new SideEffectManager();\n}\n","export function clamp(value: number, min: number, max: number): number {\n  return Math.min(Math.max(value, min), max);\n}\n\nexport function flattenEvent(ev: MouseEvent | TouchEvent): MouseEvent | Touch {\n  return (ev as TouchEvent).touches ? (ev as TouchEvent).touches[0] : (ev as MouseEvent);\n}\n\nexport function preventEvent(ev: Event): void {\n  ev.stopPropagation();\n  if (ev.cancelable) {\n    ev.preventDefault();\n  }\n}\n","import type { AnimationMode, ReadonlyTeleBox } from \"@netless/window-manager\";\nimport type { View, Size, Camera } from \"white-web-sdk\";\nimport LazyLoad from \"vanilla-lazyload\";\nimport type { DebouncedFunction, Options } from \"debounce-fn\";\nimport debounceFn from \"debounce-fn\";\nimport { SideEffectManager } from \"side-effect-manager\";\nimport type { DocsViewerPage } from \"../DocsViewer\";\nimport { DocsViewer } from \"../DocsViewer\";\nimport { clamp, flattenEvent, preventEvent } from \"../utils/helpers\";\n\nconst SCROLLBAR_MIN_HEIGHT = 30;\n\nconst RATIO_BASE_CONTAINER_HEIGHT = 640;\n\nexport interface StaticDocsViewerConfig {\n  whiteboardView: View;\n  readonly: boolean;\n  box: ReadonlyTeleBox;\n  pages: DocsViewerPage[];\n  pagesSize: { width: number; height: number };\n  mountWhiteboard: (dom: HTMLDivElement) => void;\n  /** Scroll Top of the original page */\n  pageScrollTop?: number;\n  onUserScroll?: (pageScrollTop: number) => void;\n}\n\nexport class StaticDocsViewer {\n  public constructor({\n    whiteboardView,\n    readonly,\n    box,\n    pages,\n    pagesSize,\n    pageScrollTop = 0,\n    mountWhiteboard,\n    onUserScroll,\n  }: StaticDocsViewerConfig) {\n    this.whiteboardView = whiteboardView;\n    this.readonly = readonly;\n    this.box = box;\n    this.pages = pages;\n    this.pageScrollTop = pageScrollTop;\n    this.pagesSize = pagesSize;\n    this.mountWhiteboard = mountWhiteboard;\n    this.onUserScroll = onUserScroll;\n\n    this.viewer = new DocsViewer({\n      readonly,\n      box,\n      pages,\n      onNewPageIndex: this.onNewPageIndex,\n    });\n\n    this.render();\n  }\n\n  protected readonly: boolean;\n  protected pages: DocsViewerPage[];\n  protected box: ReadonlyTeleBox;\n  protected whiteboardView: View;\n  protected mountWhiteboard: (dom: HTMLDivElement) => void;\n\n  public pageScrollTop: number;\n  public pagesSize: { width: number; height: number };\n  public onUserScroll?: (pageScrollTop: number) => void;\n\n  public viewer: DocsViewer;\n\n  public $pages!: HTMLElement;\n  public $whiteboardView!: HTMLDivElement;\n  public $scrollbar!: HTMLElement;\n\n  public mount(): this {\n    this.viewer.mount();\n\n    this.sideEffect.add(() => {\n      const contentLazyLoad = new LazyLoad({\n        container: this.$pages,\n        elements_selector: `.${this.wrapClassName(\"page\")}`,\n      });\n      return () => contentLazyLoad.destroy();\n    }, \"page-lazyload\");\n\n    this.setupWhiteboardCamera();\n\n    this.sideEffect.setTimeout(() => {\n      if (this.pageScrollTop !== 0) {\n        this.pageScrollTo(this.pageScrollTop);\n      }\n    }, 1000);\n\n    // add event listener after scrollTop is set\n    this.setupScrollTopEvent();\n\n    this.sideEffect.add(() => {\n      const handler = this.renderRatioHeight.bind(this);\n      this.box.events.on(\"visual_resize\", handler);\n      return () => this.box.events.off(\"visual_resize\", handler);\n    });\n\n    return this;\n  }\n\n  public unmount(): this {\n    this.viewer.unmount();\n    return this;\n  }\n\n  public setReadonly(readonly: boolean): void {\n    if (this.readonly !== readonly) {\n      this.readonly = readonly;\n      this.viewer.setReadonly(readonly);\n    }\n  }\n\n  public destroy(): void {\n    this.sideEffect.flushAll();\n    this.onUserScroll = void 0;\n    this.unmount();\n    this.viewer.destroy();\n  }\n\n  /** Sync scrollTop from writable user */\n  public syncPageScrollTop(pageScrollTop: number): void {\n    if (pageScrollTop >= 0 && Math.abs(this.pageScrollTop - pageScrollTop) > 10) {\n      this.pageScrollTo(pageScrollTop);\n    }\n  }\n\n  public render(): void {\n    this.viewer.$content.appendChild(this.renderPages());\n    this.viewer.$content.appendChild(this.renderWhiteboardView());\n    this.viewer.$content.appendChild(this.renderScrollbar());\n    this.renderRatioHeight();\n  }\n\n  protected renderRatioHeight(): void {\n    const boxHeight = this.box.absoluteHeight;\n    const isSmallBox = boxHeight <= RATIO_BASE_CONTAINER_HEIGHT;\n\n    this.viewer.setSmallBox(isSmallBox);\n\n    if (isSmallBox) {\n      const titleBarSupposedHeight = 26 / RATIO_BASE_CONTAINER_HEIGHT;\n      const titleBarActualHeight = 26 / boxHeight;\n      const footerSupposedHeight = 26 / RATIO_BASE_CONTAINER_HEIGHT;\n      const footerActualHeight = 0;\n\n      const emptySpace = Math.max(\n        (titleBarSupposedHeight +\n          footerSupposedHeight -\n          (titleBarActualHeight + footerActualHeight)) /\n          2,\n        0\n      );\n\n      if (this.box.$titleBar) {\n        const titleBarHeight = titleBarActualHeight + emptySpace;\n        this.box.$titleBar.style.height = `${titleBarHeight * 100}%`;\n      }\n\n      if (this.box.$footer) {\n        const footerHeight = footerActualHeight + emptySpace;\n        this.box.$footer.style.height = `${footerHeight * 100}%`;\n      }\n    } else {\n      if (this.box.$titleBar) {\n        const titleBarHeight = Math.max(26 / RATIO_BASE_CONTAINER_HEIGHT, 26 / boxHeight);\n        this.box.$titleBar.style.height = `${titleBarHeight * 100}%`;\n      }\n\n      if (this.box.$footer) {\n        const footerHeight = Math.max(26 / RATIO_BASE_CONTAINER_HEIGHT, 26 / boxHeight);\n        this.box.$footer.style.height = `${footerHeight * 100}%`;\n      }\n    }\n  }\n\n  protected renderPages(): HTMLElement {\n    if (!this.$pages) {\n      const $pages = document.createElement(\"div\");\n      $pages.className = this.wrapClassName(\"pages\");\n      this.$pages = $pages;\n\n      const pageClassName = this.wrapClassName(\"page\");\n      this.pages.forEach((page, i) => {\n        const $img = document.createElement(\"img\");\n        $img.className = pageClassName + \" \" + this.wrapClassName(`page-${i}`);\n        $img.draggable = false;\n        $img.width = page.width;\n        $img.height = page.height;\n        $img.dataset.src = page.src;\n        $img.dataset.pageIndex = String(i);\n\n        $pages.appendChild($img);\n      });\n    }\n    return this.$pages;\n  }\n\n  protected renderWhiteboardView(): HTMLDivElement {\n    if (!this.$whiteboardView) {\n      this.$whiteboardView = document.createElement(\"div\");\n      this.$whiteboardView.className = this.wrapClassName(\"wb-view\");\n      this.mountWhiteboard(this.$whiteboardView);\n      this.sideEffect.addEventListener(\n        this.$whiteboardView,\n        \"wheel\",\n        ev => {\n          preventEvent(ev);\n          if (!this.readonly) {\n            this.pageScrollTo(this.pageScrollTop + ev.deltaY);\n            this.updateUserScroll();\n          }\n        },\n        { passive: false, capture: true }\n      );\n      this.sideEffect.addEventListener(\n        this.$whiteboardView,\n        \"touchmove\",\n        ev => {\n          if (this.readonly || ev.touches.length <= 1) {\n            return;\n          }\n          this.updateUserScroll();\n        },\n        { passive: true, capture: true }\n      );\n    }\n    return this.$whiteboardView;\n  }\n\n  protected renderScrollbar(): HTMLElement {\n    if (!this.$scrollbar) {\n      const $scrollbar = document.createElement(\"button\");\n      this.$scrollbar = $scrollbar;\n      $scrollbar.className = this.wrapClassName(\"scrollbar\");\n      $scrollbar.style.minHeight = `${SCROLLBAR_MIN_HEIGHT}px`;\n\n      const trackStart = (ev: MouseEvent | TouchEvent): void => {\n        if (this.readonly) {\n          return;\n        }\n\n        if ((ev as MouseEvent).button != null && (ev as MouseEvent).button !== 0) {\n          // Not left mouse\n          return;\n        }\n\n        preventEvent(ev);\n\n        this.$scrollbar.classList.toggle(this.wrapClassName(\"scrollbar-dragging\"), true);\n\n        const startTop = this.scrollTopPageToEl(this.pageScrollTop);\n        const elScrollHeight =\n          (this.whiteboardView.size.width / this.pagesSize.width) * this.pagesSize.height;\n        const { clientY: startY } = flattenEvent(ev);\n\n        const tracking = (ev: MouseEvent | TouchEvent): void => {\n          const { clientY } = flattenEvent(ev);\n          const { height: wbHeight } = this.whiteboardView.size;\n          this.elScrollTo(startTop + (clientY - startY) * (elScrollHeight / wbHeight));\n        };\n\n        const trackEnd = (): void => {\n          this.$scrollbar.classList.toggle(this.wrapClassName(\"scrollbar-dragging\"), false);\n          window.removeEventListener(\"mousemove\", tracking, true);\n          window.removeEventListener(\"touchmove\", tracking, true);\n          window.removeEventListener(\"mouseup\", trackEnd, true);\n          window.removeEventListener(\"touchend\", trackEnd, true);\n          window.removeEventListener(\"touchcancel\", trackEnd, true);\n        };\n\n        window.addEventListener(\"mousemove\", tracking, true);\n        window.addEventListener(\"touchmove\", tracking, true);\n        window.addEventListener(\"mouseup\", trackEnd, true);\n        window.addEventListener(\"touchend\", trackEnd, true);\n        window.addEventListener(\"touchcancel\", trackEnd, true);\n      };\n      this.sideEffect.addEventListener($scrollbar, \"mousedown\", trackStart);\n      this.sideEffect.addEventListener($scrollbar, \"touchstart\", trackStart);\n    }\n    return this.$scrollbar;\n  }\n\n  protected scrollTopPageToEl(pageScrollTop: number): number {\n    return pageScrollTop * (this.whiteboardView.size.width / this.pagesSize.width);\n  }\n\n  protected scrollTopElToPage(elScrollTop: number): number {\n    return elScrollTop / (this.whiteboardView.size.width / this.pagesSize.width);\n  }\n\n  /** Scroll base on DOM rect */\n  protected elScrollTo(elScrollTop: number): void {\n    this.pageScrollTo(this.scrollTopElToPage(elScrollTop));\n  }\n\n  /** Scroll base on docs size */\n  protected pageScrollTo(pageScrollTop: number): void {\n    const halfWbHeight = this.scrollTopElToPage(this.whiteboardView.size.height / 2);\n    this.whiteboardView.moveCamera({\n      centerY: clamp(\n        pageScrollTop + halfWbHeight,\n        halfWbHeight,\n        this.pagesSize.height - halfWbHeight\n      ),\n      animationMode: \"immediately\" as AnimationMode,\n    });\n  }\n\n  protected scrollToPage(index: number): void {\n    if (!this.readonly && this.$pages && !Number.isNaN(index)) {\n      index = clamp(index, 0, this.pages.length - 1);\n      const $page = this.$pages.querySelector<HTMLElement>(\n        \".\" + this.wrapClassName(`page-${index}`)\n      );\n      if ($page) {\n        const elOffsetTop = $page.offsetTop + 5;\n        this.elScrollTo(elOffsetTop);\n        this.updateUserScroll();\n      }\n    }\n  }\n\n  protected setupScrollTopEvent(): void {\n    const updatePageIndex = this.debounce(\n      () => {\n        if (this.pages.length > 0 && this.$pages) {\n          const pagesWidth = this.$pages.getBoundingClientRect().width;\n          if (pagesWidth > 0) {\n            let pageTop = 0;\n            for (let i = 0; i < this.pages.length; i += 1) {\n              pageTop += this.pages[i].height;\n              if (this.pageScrollTop <= pageTop) {\n                this.viewer.setPageIndex(i);\n                return;\n              }\n            }\n            this.viewer.setPageIndex(this.pages.length - 1);\n          }\n        }\n      },\n      { wait: 5, maxWait: 100 },\n      \"debounce-updatePageIndex\"\n    );\n\n    this.sideEffect.add(() => {\n      const handleCameraUpdate = (camera: Camera) => {\n        const { width: wbWidth, height: wbHeight } = this.whiteboardView.size;\n        const { width: pageWidth, height: pageHeight } = this.pagesSize;\n        const elScrollHeight = (wbWidth / pageWidth) * pageHeight;\n\n        const elScrollTop = this.scrollTopPageToEl(camera.centerY) - wbHeight / 2;\n        const pageScrollTop = this.scrollTopElToPage(elScrollTop);\n        this.pageScrollTop = pageScrollTop;\n\n        this.$pages.scrollTo({ top: elScrollTop });\n\n        this.setScrollbarHeight((wbHeight / elScrollHeight) * wbHeight);\n        this.$scrollbar.style.transform = `translateY(${\n          (elScrollTop / (elScrollHeight - wbHeight)) * (wbHeight - this.scrollbarHeight)\n        }px)`;\n\n        updatePageIndex();\n      };\n      this.whiteboardView.callbacks.on(\"onCameraUpdated\", handleCameraUpdate);\n      return () => this.whiteboardView.callbacks.off(\"onCameraUpdated\", handleCameraUpdate);\n    });\n  }\n\n  protected setupWhiteboardCamera(): void {\n    this.sideEffect.add(() => {\n      const handleSizeUpdate = ({ width, height }: Size): void => {\n        if (width > 0 && height > 0) {\n          const elScrollTop = this.$pages.scrollTop;\n          const pageWidth = this.pagesSize.width;\n          const ratio = pageWidth / width;\n          this.whiteboardView.moveCameraToContain({\n            originX: 0,\n            originY: elScrollTop * ratio,\n            width: pageWidth,\n            height: height * ratio,\n            animationMode: \"immediately\" as AnimationMode,\n          });\n          this.whiteboardView.setCameraBound({\n            damping: 1,\n            maxContentMode: () => width / pageWidth,\n            minContentMode: () => width / pageWidth,\n            centerX: this.pagesSize.width / 2,\n            centerY: this.pagesSize.height / 2,\n            width: this.pagesSize.width,\n            height: this.pagesSize.height,\n          });\n          this.elScrollTo(elScrollTop);\n        }\n      };\n      this.whiteboardView.callbacks.on(\"onSizeUpdated\", handleSizeUpdate);\n      return () => {\n        this.whiteboardView.callbacks.off(\"onSizeUpdated\", handleSizeUpdate);\n      };\n    }, \"whiteboard-size-update\");\n  }\n\n  protected updateUserScroll(): void {\n    window.requestAnimationFrame(() => {\n      if (this.onUserScroll) {\n        this.onUserScroll(this.pageScrollTop);\n      }\n    });\n  }\n\n  protected debounce<ArgumentsType extends unknown[], ReturnType>(\n    fn: (...args: ArgumentsType) => ReturnType,\n    options: Options,\n    disposerID?: string\n  ): DebouncedFunction<ArgumentsType, ReturnType | undefined> {\n    const dFn = debounceFn(fn, options);\n    this.sideEffect.add(() => () => dFn.cancel(), disposerID);\n    return dFn;\n  }\n\n  protected wrapClassName(className: string): string {\n    return \"netless-app-docs-viewer-static-\" + className;\n  }\n\n  protected onNewPageIndex = (index: number): void => {\n    this.scrollToPage(index);\n  };\n\n  protected sideEffect = new SideEffectManager();\n\n  protected scrollbarHeight = SCROLLBAR_MIN_HEIGHT;\n\n  protected setScrollbarHeight(elScrollbarHeight: number): void {\n    elScrollbarHeight = clamp(\n      elScrollbarHeight,\n      SCROLLBAR_MIN_HEIGHT,\n      this.whiteboardView.size.height\n    );\n    if (this.scrollbarHeight !== elScrollbarHeight) {\n      this.scrollbarHeight = elScrollbarHeight;\n      this.$scrollbar.style.height = `${elScrollbarHeight}px`;\n    }\n  }\n}\n","import type {\n  ReadonlyTeleBox,\n  View,\n  Displayer,\n  Room,\n  AnimationMode,\n} from \"@netless/window-manager\";\nimport { SideEffectManager } from \"side-effect-manager\";\nimport type { DocsViewerPage } from \"../DocsViewer\";\nimport { DocsViewer } from \"../DocsViewer\";\nimport { clamp } from \"../utils/helpers\";\n\nexport interface DynamicDocsViewerConfig {\n  displayer: Displayer;\n  whiteboardView: View;\n  getRoom(): Room | undefined;\n  readonly: boolean;\n  box: ReadonlyTeleBox;\n  pages: DocsViewerPage[];\n  mountWhiteboard: (dom: HTMLDivElement) => void;\n}\n\nexport class DynamicDocsViewer {\n  public constructor({\n    displayer,\n    whiteboardView,\n    getRoom,\n    readonly,\n    box,\n    pages,\n    mountWhiteboard,\n  }: DynamicDocsViewerConfig) {\n    this.whiteboardView = whiteboardView;\n    this.readonly = readonly;\n    this.box = box;\n    this.pages = pages;\n    this.displayer = displayer;\n    this.getWhiteboardRoom = getRoom;\n    this.mountWhiteboard = mountWhiteboard;\n\n    this.viewer = new DocsViewer({\n      readonly,\n      box,\n      pages,\n      onNewPageIndex: this.onNewPageIndex,\n      onPlay: this.onPlayPPT,\n    });\n\n    this.render();\n  }\n\n  protected sideEffect = new SideEffectManager();\n\n  protected readonly: boolean;\n  protected pages: DocsViewerPage[];\n  protected box: ReadonlyTeleBox;\n  protected whiteboardView: View;\n  protected displayer: Displayer;\n  protected getWhiteboardRoom: () => Room | undefined;\n  protected mountWhiteboard: (dom: HTMLDivElement) => void;\n\n  public viewer: DocsViewer;\n\n  public $mask!: HTMLElement;\n  public $whiteboardView!: HTMLDivElement;\n\n  public mount(): this {\n    this.viewer.mount();\n\n    const pageIndex = this.getPageIndex();\n    if (pageIndex !== 0) {\n      this.jumpToPage(pageIndex);\n    }\n\n    this.scaleDocsToFit();\n    this.sideEffect.add(() => {\n      this.whiteboardView.callbacks.on(\"onSizeUpdated\", this.scaleDocsToFit);\n      return () => {\n        this.whiteboardView.callbacks.off(\"onSizeUpdated\", this.scaleDocsToFit);\n      };\n    });\n\n    return this;\n  }\n\n  public unmount(): this {\n    this.viewer.unmount();\n    return this;\n  }\n\n  public setReadonly(readonly: boolean): void {\n    if (this.readonly !== readonly) {\n      this.readonly = readonly;\n\n      this.viewer.setReadonly(readonly);\n    }\n  }\n\n  public destroy(): void {\n    this.sideEffect.flushAll();\n    this.unmount();\n    this.viewer.destroy();\n  }\n\n  public getPageIndex(): number {\n    return this.displayer.state.sceneState.index;\n  }\n\n  public jumpToPage(index: number, reset?: boolean): void {\n    index = clamp(index, 0, this.pages.length - 1);\n    if (index !== this.getPageIndex()) {\n      const room = this.getWhiteboardRoom();\n      if (room) {\n        room.setSceneIndex(index);\n        this.scaleDocsToFit();\n      }\n    }\n    if (index !== this.viewer.pageIndex) {\n      this.viewer.setPageIndex(index);\n    }\n    if (reset) {\n      const room = this.getWhiteboardRoom();\n      if (room) {\n        room.setGlobalState({ __pptState: undefined });\n      }\n    }\n  }\n\n  public onPlayPPT = (): void => {\n    const room = this.getWhiteboardRoom();\n    if (room) {\n      room.pptNextStep();\n    }\n  };\n\n  public render(): void {\n    this.viewer.$content.appendChild(this.renderMask());\n    this.viewer.$content.appendChild(this.renderWhiteboardView());\n    this.sideEffect.addEventListener(window, \"keydown\", ev => {\n      if (this.box.focus) {\n        switch (ev.key) {\n          case \"ArrowUp\":\n          case \"ArrowLeft\": {\n            this.jumpToPage(this.getPageIndex() - 1, true);\n            break;\n          }\n          case \"ArrowRight\":\n          case \"ArrowDown\": {\n            this.getWhiteboardRoom()?.pptNextStep();\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      }\n    });\n  }\n\n  protected renderMask(): HTMLElement {\n    if (!this.$mask) {\n      const $mask = document.createElement(\"div\");\n      $mask.className = this.wrapClassName(\"mask\");\n      this.$mask = $mask;\n\n      const $back = document.createElement(\"button\");\n      $back.className = this.wrapClassName(\"back\");\n\n      const $next = document.createElement(\"button\");\n      $next.className = this.wrapClassName(\"next\");\n\n      // this.$mask.appendChild($back)\n      // this.$mask.appendChild($next)\n    }\n    return this.$mask;\n  }\n\n  protected renderWhiteboardView(): HTMLDivElement {\n    if (!this.$whiteboardView) {\n      this.$whiteboardView = document.createElement(\"div\");\n      this.$whiteboardView.className = this.wrapClassName(\"wb-view\");\n      this.sideEffect.addEventListener(this.$whiteboardView, \"click\", ev => {\n        const room = this.getWhiteboardRoom();\n        if (room && room.state.memberState.currentApplianceName === \"clicker\") {\n          for (let el = ev.target as HTMLElement | null; el; el = el.parentElement) {\n            if (el.classList?.contains(\"ppt-event-source\")) {\n              return;\n            }\n          }\n          room.pptNextStep();\n        }\n      });\n      this.mountWhiteboard(this.$whiteboardView);\n    }\n    return this.$whiteboardView;\n  }\n\n  protected _scaleDocsToFitImpl = (): void => {\n    const page = this.pages[this.getPageIndex()];\n    if (page) {\n      this.whiteboardView.moveCameraToContain({\n        originX: -page.width / 2,\n        originY: -page.height / 2,\n        width: page.width,\n        height: page.height,\n        animationMode: \"immediately\" as AnimationMode,\n      });\n    }\n  };\n\n  protected _scaleDocsToFitDebounced = (): void => {\n    this.sideEffect.setTimeout(this._scaleDocsToFitImpl, 1000, \"_scaleDocsToFitDebounced\");\n  };\n\n  protected scaleDocsToFit = (): void => {\n    this._scaleDocsToFitImpl();\n    this._scaleDocsToFitDebounced();\n  };\n\n  protected onNewPageIndex = (index: number): void => {\n    this.jumpToPage(index, true);\n  };\n\n  protected wrapClassName(className: string): string {\n    return \"netless-app-docs-viewer-dynamic-\" + className;\n  }\n}\n","export const kind = \"DocsViewer\";\n","import styles from \"./style.scss?inline\";\n\nimport type { NetlessApp, AppContext, ReadonlyTeleBox, Room } from \"@netless/window-manager\";\nimport type { View, Size } from \"white-web-sdk\";\nimport { StaticDocsViewer } from \"./StaticDocsViewer\";\nimport type { DocsViewerPage } from \"./DocsViewer\";\nimport { DynamicDocsViewer } from \"./DynamicDocsViewer\";\nimport { kind } from \"./constants\";\n\nexport type { DocsViewerPage } from \"./DocsViewer\";\n\nexport interface NetlessAppStaticDocsViewerAttributes {\n  /** ScrollTop base on the real page size */\n  pageScrollTop?: number;\n}\n\nexport interface NetlessAppDynamicDocsViewerAttributes {}\n\nconst NetlessAppDocsViewer: NetlessApp<\n  NetlessAppStaticDocsViewerAttributes | NetlessAppDynamicDocsViewerAttributes\n> = {\n  kind,\n  setup(context) {\n    const box = context.getBox();\n\n    const scenes = context.getScenes();\n    if (!scenes) {\n      throw new Error(\"[Docs Viewer]: scenes not found.\");\n    }\n\n    const whiteboardView = context.getView();\n    if (!whiteboardView) {\n      throw new Error(\"[Docs Viewer]: no whiteboard view.\");\n    }\n\n    const pages = scenes\n      .map(({ ppt }): DocsViewerPage | null =>\n        ppt\n          ? {\n              width: ppt.width,\n              height: ppt.height,\n              src: ppt.src,\n              thumbnail: ppt.previewURL,\n            }\n          : null\n      )\n      .filter((page): page is DocsViewerPage => Boolean(page));\n\n    if (pages.length <= 0) {\n      throw new Error(\"[Docs Viewer]: empty scenes.\");\n    }\n\n    box.mountStyles(styles);\n\n    if (pages[0].src.startsWith(\"ppt\")) {\n      setupDynamicDocsViewer(\n        context as AppContext<NetlessAppDynamicDocsViewerAttributes>,\n        whiteboardView,\n        box,\n        pages\n      );\n    } else {\n      setupStaticDocsViewer(\n        context as AppContext<NetlessAppStaticDocsViewerAttributes>,\n        whiteboardView,\n        box,\n        pages\n      );\n    }\n  },\n};\n\nexport default NetlessAppDocsViewer;\n\nfunction setupStaticDocsViewer(\n  context: AppContext<NetlessAppStaticDocsViewerAttributes>,\n  whiteboardView: View,\n  box: ReadonlyTeleBox,\n  pages: DocsViewerPage[]\n): void {\n  const pagesSize = {\n    width: pages[0].width,\n    height: pages.reduce((height, page) => height + page.height * (pages[0].width / page.width), 0),\n  };\n\n  const docsViewer = new StaticDocsViewer({\n    whiteboardView,\n    readonly: box.readonly,\n    box,\n    pages: pages,\n    pagesSize,\n    pageScrollTop: context.getAttributes()?.pageScrollTop,\n    mountWhiteboard: context.mountView.bind(context),\n    onUserScroll: pageScrollTop => {\n      if (context.getAttributes()?.pageScrollTop !== pageScrollTop && !box.readonly) {\n        context.updateAttributes([\"pageScrollTop\"], pageScrollTop);\n      }\n    },\n  }).mount();\n\n  if (import.meta.env.DEV) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (window as any).docsViewer = docsViewer;\n  }\n\n  context.emitter.on(\"attributesUpdate\", attributes => {\n    if (attributes) {\n      if (attributes.pageScrollTop != null) {\n        docsViewer.syncPageScrollTop(attributes.pageScrollTop);\n      }\n    }\n  });\n\n  box.events.on(\"readonly\", readonly => {\n    docsViewer.setReadonly(readonly);\n  });\n}\n\nfunction setupDynamicDocsViewer(\n  context: AppContext<NetlessAppDynamicDocsViewerAttributes>,\n  whiteboardView: View,\n  box: ReadonlyTeleBox,\n  pages: DocsViewerPage[]\n): void {\n  whiteboardView.disableCameraTransform = true;\n\n  const displayer = context.getDisplayer();\n\n  const docsViewer = new DynamicDocsViewer({\n    displayer,\n    whiteboardView,\n    getRoom: () => (context.getIsWritable() ? (context.getDisplayer() as Room) : undefined),\n    readonly: box.readonly,\n    box,\n    pages,\n    mountWhiteboard: context.mountView.bind(context),\n  }).mount();\n\n  context.mountView(docsViewer.$whiteboardView);\n\n  if (context.isAddApp) {\n    whiteboardView.callbacks.once(\n      \"onSizeUpdated\",\n      ({ width: contentWidth, height: contentHeight }: Size) => {\n        if (pages.length > 0 && box.state !== \"maximized\") {\n          const { width: pageWidth, height: pageHeight } = pages[0];\n          const preferHeight = (pageHeight / pageWidth) * contentWidth;\n          const diff = preferHeight - contentHeight;\n          if (diff !== 0 && context.getIsWritable()) {\n            context.emitter.emit(\"setBoxSize\", {\n              width: box.width,\n              height: box.height + diff / box.containerRect.height,\n            });\n          }\n        }\n      }\n    );\n  }\n\n  if (import.meta.env.DEV) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (window as any).docsViewer = docsViewer;\n  }\n\n  context.emitter.on(\"sceneStateChange\", sceneState => {\n    docsViewer.jumpToPage(sceneState.index);\n  });\n\n  box.events.on(\"readonly\", readonly => {\n    docsViewer.setReadonly(readonly);\n  });\n}\n"],"names":["mimicFn","SideEffectManager"],"mappings":"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"}